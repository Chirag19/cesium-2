<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>三维模型</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cesiumjs.org/releases/1.57/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
    <script src="https://cesiumjs.org/releases/1.57/Build/Cesium/Cesium.js"></script>
</head>
<body>
    <div id = "cesium_container" style="width:100%;height:100%;">
    <div style="position:absolute;z-index:9;top:20px;left:20px;">
        
    </div>
    </div>
    <script>
        //cesium_container 对应容器div 的ID
        var mViewer = new Cesium.Viewer('cesium_container', {
            skyAtmosphere: false,
            shouldAnimate : true,
            terrainProvider: Cesium.createWorldTerrain()
        });
        var clippingPlanesEnabled = true;
        var edgeStylingEnabled = true;
        loadCesiumMan();
        function loadCesiumMan()
        {
            var long = 116.0744619;
            var lat =39.0503706; 
            //人物模型位置
            var position =  Cesium.Cartesian3.fromDegrees(long-0.01, lat-0.01, -1000);
            var position2 =  Cesium.Cartesian3.fromDegrees(long-0.01, lat+0.01, -1000);
            var position3 =  Cesium.Cartesian3.fromDegrees(long+0.01, lat+0.01, -1000);
            var position4 =  Cesium.Cartesian3.fromDegrees(long+0.01, lat-0.01, -1000);
            //立方体位置
            var position_box =  Cesium.Cartesian3.fromDegrees(long, lat, 0)
            //添加外部立方体
            var entity = mViewer.entities.add({
                position : position_box,
                box : {
                    dimensions : new Cesium.Cartesian3(4000.0, 4000.0, 4000.0),
                    material : Cesium.Color.WHITE.withAlpha(0.3),
                    outline : true,
                    outlineColor : Cesium.Color.WHITE
                }
            });

            //添加人物模型
            mViewer.entities.add({
                position : position,
                model : {
                    uri : '../assets/cesium/Cesium_Man.glb',
                    minimumPixelSize : 128,
                    maximumScale : 800
                }
            });

            mViewer.entities.add({
                position : position2,
                model : {
                    uri : '../assets/cesium/Cesium_Man.glb',
                    minimumPixelSize : 128,
                    maximumScale : 800
                }
            });

            mViewer.entities.add({
                position : position3,
                model : {
                    uri : '../assets/cesium/Cesium_Man.glb',
                    minimumPixelSize : 128,
                    maximumScale : 800
                }
            });

            mViewer.entities.add({
                position : position4,
                model : {
                    uri : '../assets/cesium/Cesium_Man.glb',
                    minimumPixelSize : 128,
                    maximumScale : 800
                }
            });

            mViewer.scene.globe.depthTestAgainstTerrain = true;
            mViewer.scene.globe.clippingPlanes = new Cesium.ClippingPlaneCollection({
                modelMatrix : entity.computeModelMatrix(Cesium.JulianDate.now()),
                planes : [
                    new Cesium.ClippingPlane(new Cesium.Cartesian3( 1.0,  0.0, 0.0), -2000.0),
                    new Cesium.ClippingPlane(new Cesium.Cartesian3(-1.0,  0.0, 0.0), -2000.0),
                    new Cesium.ClippingPlane(new Cesium.Cartesian3( 0.0,  1.0, 0.0), -2000.0),
                    new Cesium.ClippingPlane(new Cesium.Cartesian3( 0.0, -1.0, 0.0), -2000.0)
                ],
                edgeWidth: edgeStylingEnabled ? 1.0 : 0.0,
                edgeColor: Cesium.Color.WHITE,
                enabled : clippingPlanesEnabled
            });

            mViewer.trackedEntity = entity;
        }
    </script>
</body>
</html>